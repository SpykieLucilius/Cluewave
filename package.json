{
  "name": "cluewave-monorepo",
  "private": true,
  "engines": {
    "node": "20.x"
  },
  "scripts": {
    "heroku-prebuild": "echo '=== ls -R (repo root) ===' && ls -R && echo '=== FRONTEND PACKAGE.JSON ===' && cat frontend/package.json && echo '=== END PACKAGE.JSON ===' && echo '=== installing frontend deps with dev ===' && npm install --prefix frontend --include=dev --no-audit --no-fund && echo '=== done npm install, now list node_modules/frontend/.bin ===' && ls frontend/node_modules/.bin && echo '=== done listing node_modules/frontend/.bin ==='",
    "heroku-postbuild": "echo '=== running vite build (cd frontend) ===' && cd frontend && npm run build && echo '=== build done, copying dist ===' && cp -r dist/* ../backend/src/main/resources/static/ && echo '=== copy complete ==='",
    "start": "java -Dserver.port=$PORT -jar backend/target/cluewave-backend.jar"
  }
}
